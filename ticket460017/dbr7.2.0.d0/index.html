<!DOCTYPE html>
<head>
<meta charset="utf8">
</head>
<body>
    <input id="ipt-file" type="file" accept="image/png,image/jpeg,image/bmp,image/gif">
<script src="dbr-7.2.0.d0.js" data-productKeys="t0090YAAAAHylenGpUrh5D+ST1YN4Y5xQmdklBwtQrsDbFIGbQJaPxTOeb8jSKnYnFE/sGRAVazZzeEXiS7LPi6Q82JSX2ii3rV1YA3LMCAiF6R+EqKIpsXyIIBhK"></script>
<script>
    let reader = null;
    document.getElementById('ipt-file').addEventListener("change", async function(){
        if(!reader){
            reader = await Dynamsoft.BarcodeReader.createInstance();
            // https://demo.dynamsoft.com/dbr/barcodereaderdemo.aspx
            let settingsJsonStr = JSON.stringify({
                "ImageParameter": {
                    "Name" : "default",
                    "BarcodeFormatIds": [
                    "BF_ONED",
                    "BF_PDF417",
                    "BF_QR_CODE",
                    "BF_DATAMATRIX",
                    "BF_AZTEC"
                    ],
                    "BinarizationModes": [
                    {
                        "BlockSizeX": 21,
                        "BlockSizeY": 21,
                        "EnableFillBinaryVacancy": 1,
                        "ImagePreprocessingModesIndex": -1,
                        "Mode": "BM_LOCAL_BLOCK",
                        "ThreshValueCoefficient": 15
                    }
                    ],
                    "ImagePreprocessingModes": [
                    {
                        "Mode": "IPM_SHARPEN_SMOOTH",
                        "SharpenBlockSizeX": 3,
                        "SharpenBlockSizeY": 3,
                        "SmoothBlockSizeX": 3,
                        "SmoothBlockSizeY": 3
                    }
                    ]
                },
                "Version": "3.0"
            });
            await reader.initRuntimeSettingsWithString(settingsJsonStr);
        }
        console.log(await reader.decode(this.files[0]));
        this.value = "";//empty input
    });
</script>
</body>